(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[19],{bc40:function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("q-page",[e("q-card",{attrs:{flat:""}},[e("div",{staticClass:"content-wrapper"},[e("div",{staticClass:"main-content"},[e("q-card-section",{staticClass:"q-pa-sm"},[e("div",{staticClass:"row"},[e("div",{staticClass:"text-blue-grey-10 col"},[e("span",{staticClass:"text-h7"},[e("b",[t._v(t._s(t.request.label))])])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"text-grey col text-left"},[e("q-icon",{staticClass:"text-h7",attrs:{name:"event"}}),e("span",{staticClass:"text-h7"},[t._v(t._s(t.request.fromDate)+" ")])],1),e("div",{staticClass:"text-grey col text-right"},[e("q-icon",{staticClass:"text-h7",attrs:{name:"timer"}}),e("span",{staticClass:"text-h7"},[t._v(t._s(t.request.xService_Request__r.xDuration__c)+"h")])],1)])]),e("q-separator",{staticClass:"separator",attrs:{inset:""}}),e("q-card-section",{staticClass:"q-pa-sm"},[e("div",{staticClass:"row"},[t._v("\n            "+t._s(t.request.message)+"\n          ")])]),e("q-separator",{staticClass:"separator",attrs:{inset:""}}),t.request.xService_Request__r.xAddress__c?e("q-card-section",{staticClass:"q-pa-sm"},[e("a",{staticClass:"text-blue-grey-14",attrs:{href:t.request.geoLink}},[e("span",[e("b",[t._v(t._s(this.$t("workspace.mission_address")))]),t._v(t._s(t.request.xService_Request__r.xAddress__c)+"\n            ")]),e("img",{staticClass:"image-map",attrs:{alt:"Geo Location",src:t.request.geoImage}})])]):t._e()],1),e("div",{staticClass:"toolbar"},[e("q-btn-group",{staticClass:"full-width q-pa-xs",attrs:{spread:"",flat:""}},[e("q-btn",{staticClass:"q-pa-sm",attrs:{label:this.$t("workspace.accept"),color:"positive"},on:{click:t.accept}}),e("q-btn",{staticClass:"q-pa-sm",attrs:{label:this.$t("workspace.decline"),color:"deep-orange","text-color":"white"},on:{click:t.decline}})],1)],1)])])],1)},i=[],c=(e("f751"),e("2b0e")),r=e("9e62f"),n=e("4411"),o={name:"Request",mixins:[Object(r["c"])({service:"requests"})],computed:{requestId:function(){return this.$route.params.id}},methods:{accept:function(){var t=this;this.$q.loading.show();var s=this.$FeathersVuex.api.Request,e=new s({Id:this.request.Id}),a="newjobs";"Requested"===this.request.xStatus__c?e=Object.assign(e,{xResponse_Status__c:"Accepted",xStatus__c:"Submitted"}):(a="assignments",e=Object.assign(e,{xStatus__c:"Confirmed"})),e.save().then((function(s){t.$q.loading.hide(),t.$router.push("/requests?tab=".concat(a)),n["a"].logEvent("requests","acceptEvent")})).catch((function(t){c["a"].config.errorHandler(t)}))},decline:function(){var t=this;this.$q.loading.show();var s=this.$FeathersVuex.api.Request,e=new s({id:this.request.Id}),a="newjobs";"Requested"===this.request.xStatus__c?e=Object.assign(e,{xResponse_Status__c:"Declined",xStatus__c:"Submitted"}):(a="assignments",e=Object.assign(e,{xStatus__c:"Not Available"})),e.save().then((function(s){t.$q.loading.hide(),t.$router.push("/requests?tab=".concat(a)),n["a"].logEvent("requests","declineEvent")})).catch((function(t){c["a"].config.errorHandler(t)}))}}},l=o,u=e("2877"),d=Object(u["a"])(l,a,i,!1,null,null,null);s["default"]=d.exports}}]);