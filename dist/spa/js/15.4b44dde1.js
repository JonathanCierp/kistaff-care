(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[15],{"8a14":function(t,s,a){"use strict";a.r(s);var i=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("q-page",[a("div",{staticClass:"content-wrapper"},[a("div",{staticClass:"main-content"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col q-ma-md shadow-2"},[a("q-card",{attrs:{flat:""}},[a("q-card-section",{staticClass:"row"},[a("div",{staticClass:"float-left"},[a("q-avatar",{attrs:{rounded:"",size:"60px",color:"positive","text-color":"white"}},[a("q-icon",{attrs:{name:"event"}})],1)],1),a("div",{staticClass:"float-left q-ml-md"},[a("span",{staticClass:"text-h4"},[t._v(t._s(t.upcomingMissions.length))]),a("br"),a("span",{staticClass:"text-subtitle2"},[t._v("Missions programmées")])])]),a("q-separator"),a("q-card-actions",{attrs:{align:"center"}},[a("q-btn",{staticClass:"full-width",attrs:{flat:"",color:"primary",size:"sm",to:"/missions"}},[t._v("Voir tout")])],1)],1)],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col q-mb-md q-ml-md q-mr-md shadow-2"},[a("q-card",{attrs:{flat:""}},[a("q-card-section",{staticClass:"row"},[a("div",{staticClass:"float-left"},[a("q-avatar",{attrs:{rounded:"",size:"60px",color:"warning","text-color":"white"}},[a("q-icon",{attrs:{name:"assignment_turned_in"}})],1)],1),a("div",{staticClass:"float-left q-ml-md"},[a("span",{staticClass:"text-h4"},[t._v(t._s(t.assignedRequests.length))]),a("br"),a("span",{staticClass:"text-subtitle2"},[t._v("Missions à confirmer")])])]),a("q-separator"),a("q-card-actions",{attrs:{align:"center"}},[a("q-btn",{staticClass:"full-width",attrs:{flat:"",color:"primary",size:"sm",to:"/requests?tab=assignments"}},[t._v("Voir tout")])],1)],1)],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col q-mb-md q-ml-md q-mr-md shadow-2"},[a("q-card",{attrs:{flat:""}},[a("q-card-section",{staticClass:"row"},[a("div",{staticClass:"float-left"},[a("q-avatar",{attrs:{rounded:"",square:"",size:"60px",color:"secondary","text-color":"white"}},[a("q-icon",{attrs:{name:"shop_two"}})],1)],1),a("div",{staticClass:"float-left q-ml-md"},[a("span",{staticClass:"text-h4"},[t._v(t._s(t.newRequests.length))]),a("br"),a("span",{staticClass:"text-subtitle2"},[t._v("Nouvelles demandes")])])]),a("q-separator"),a("q-card-actions",{attrs:{align:"center"}},[a("q-btn",{staticClass:"full-width",attrs:{flat:"",color:"primary",size:"sm",to:"/requests?tab=newjobs"}},[t._v("Voir tout")])],1)],1)],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col q-mb-md q-ml-md q-mr-md shadow-2"},[a("q-card",{attrs:{flat:""}},[a("q-card-section",{staticClass:"row"},[a("div",{staticClass:"float-left"},[a("q-avatar",{attrs:{rounded:"",size:"60px",color:"primary","text-color":"white"}},[a("q-icon",{attrs:{name:"location_city"}})],1)],1),a("div",{staticClass:"float-left q-ml-md"},[a("span",{staticClass:"text-h4"},[t._v(t._s(t.activeOrganizations.length))]),a("br"),a("span",{staticClass:"text-subtitle2"},[t._v("Etablissements actifs")])])]),a("q-separator"),a("q-card-actions",{attrs:{align:"center"}},[a("q-btn",{staticClass:"full-width",attrs:{flat:"",color:"primary",size:"sm",to:"/organizations"}},[t._v("Voir tout")])],1)],1)],1)])]),a("div",{staticClass:"toolbar"},[a("div",{staticClass:"q-pa-xs full-width"},[a("q-btn",{staticClass:"full-width",attrs:{color:"primary",label:"Déclarer une absence",to:"/profile/leave"}})],1)])])])},e=[],r=a("9e62f"),n={name:"Home",mixins:[Object(r["b"])({service:"missions"}),Object(r["b"])({service:"requests"}),Object(r["b"])({service:"organizations"})],computed:{missionsParams:function(){return{query:{$limit:200,xIsConfirmed__c:!0,xStatus__c:{$in:["Assigned"]}},paginate:!1}},requestsParams:function(){return{query:{$limit:200,xStatus__c:{$in:["Requested","Selected"]},xIs_Available__c:!0},paginate:!1}},organizationsParams:function(){return{query:{$limit:200,xActiveOrg__c:!0,xStatus__c:{$in:["Accepted","Suspended"]}},paginate:!1}},newRequests:function(){return this.requests.filter((function(t){return"Requested"===t.xStatus__c&&t.upcoming}))},assignedRequests:function(){return this.requests.filter((function(t){return"Requested"!==t.xStatus__c&&t.upcoming}))},upcomingMissions:function(){return this.missions.filter((function(t){return t.upcoming}))},activeOrganizations:function(){return this.organizations.filter((function(t){return"Accepted"===t.xStatus__c}))}}},o=n,c=a("2877"),l=Object(c["a"])(o,i,e,!1,null,null,null);s["default"]=l.exports}}]);