(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["2a49a252"],{"4f7f":function(e,t,i){"use strict";var a=i("c26b"),n=i("b39a"),l="Set";e.exports=i("e0b8")(l,(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(e){return a.def(n(this,l),e=0===e?0:e,e)}},a)},"7a38":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("q-page",[e.loggedUser?i("record-details",{attrs:{serviceName:"contacts",sobjectName:"Contact",layoutName:"Employee Layout (App)",sobjectId:e.loggedUser.ContactId},scopedSlots:e._u([{key:"actions",fn:function(){return[i("router-link",{attrs:{to:"/profile/password"}},[i("a",[e._v(e._s(e.passwordLabel))])])]},proxy:!0}],null,!1,3153094144)}):e._e()],1)},n=[],l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.ready?i("q-card",{attrs:{flat:"",name:"record-details"}},[i("div",{staticClass:"content-wrapper"},[i("div",{staticClass:"main-content"},[e._l(e.availableSections,(function(t){return i("q-card-section",{key:t.secRank},[i("span",{staticClass:"text-subtitle2"},[e._v(e._s(t.label))]),e._l(t.layoutColumns,(function(t){return i("div",{key:t.colRank},e._l(t.layoutItems,(function(t){return i("div",{key:t.field},[e.isContactName(e.metadata,t.field)?i("div",[i("record-field",{attrs:{record:e.record,metadata:e.metadata,fieldName:"Salutation",mode:e.mode},on:{valueChanged:e.handleValueChanged}}),i("record-field",{attrs:{record:e.record,metadata:e.metadata,fieldName:"FirstName",mode:e.mode},on:{valueChanged:e.handleValueChanged}}),i("record-field",{attrs:{record:e.record,metadata:e.metadata,fieldName:"LastName",mode:e.mode},on:{valueChanged:e.handleValueChanged}})],1):i("record-field",{attrs:{record:e.record,metadata:e.metadata,fieldName:t.field,behavior:t.behavior,mode:e.mode},on:{valueChanged:e.handleValueChanged}})],1)})),0)}))],2)})),"view"==e.mode?i("q-card-section",[e._t("actions")],2):e._e()],2),i("div",{staticClass:"toolbar"},["edit"==e.mode?i("q-btn-group",{staticClass:"full-width q-pa-xs",attrs:{spread:"",flat:""}},[i("q-btn",{staticClass:"q-pa-sm",attrs:{label:this.$t("buttons.save"),color:"primary"},on:{click:e.saveRecord}}),i("q-btn",{staticClass:"q-pa-sm",attrs:{label:this.$t("buttons.cancel"),color:"grey-2","text-color":"primary"},on:{click:e.toggleEditMode}})],1):e._e(),"view"==e.mode?i("q-btn-group",{staticClass:"full-width q-pa-xs",attrs:{spread:"",flat:""}},[i("q-btn",{staticClass:"q-pa-sm",attrs:{label:this.$t("buttons.update"),color:"primary"},on:{click:e.toggleEditMode}})],1):e._e()],1)])]):e._e()},o=[],r=(i("456d"),i("7f7f"),i("7514"),i("ac6a"),i("cadf"),i("06db"),i("5df3"),i("4f7f"),i("2b0e")),s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isCheckbox?i("q-checkbox",{attrs:{id:e.field.name,label:e.field.label,readonly:e.isReadonly},model:{value:e.fieldValue,callback:function(t){e.fieldValue=t},expression:"fieldValue"}}):e.isDate?i("q-input",{attrs:{id:e.field.name,label:e.field.label,required:e.required,readonly:e.isReadonly,rules:["date"],mask:"date"},scopedSlots:e._u([{key:"append",fn:function(){return[i("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[i("q-popup-proxy",{ref:"qDateProxy",attrs:{"transition-show":"scale","transition-hide":"scale"}},[i("q-date",{on:{input:function(){return e.$refs.qDateProxy.hide()}},model:{value:e.fieldValue,callback:function(t){e.fieldValue=t},expression:"fieldValue"}})],1)],1)]},proxy:!0}]),model:{value:e.fieldValue,callback:function(t){e.fieldValue=t},expression:"fieldValue"}}):e.isTime?i("q-input",{attrs:{id:e.field.name,label:e.field.label,required:e.required,readonly:e.isReadonly,rules:["time"],mask:"time"},scopedSlots:e._u([{key:"append",fn:function(){return[i("q-icon",{staticClass:"cursor-pointer",attrs:{name:"access_time"}},[i("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[i("q-time",{model:{value:e.fieldValue,callback:function(t){e.fieldValue=t},expression:"fieldValue"}})],1)],1)]},proxy:!0}]),model:{value:e.fieldValue,callback:function(t){e.fieldValue=t},expression:"fieldValue"}}):e.isDateTime?i("q-input",{attrs:{id:e.field.name,label:e.field.label,required:e.required,readonly:e.isReadonly},scopedSlots:e._u([{key:"prepend",fn:function(){return[i("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[i("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[i("q-date",{attrs:{mask:"YYYY-MM-DD HH:mm"},model:{value:e.fieldValue,callback:function(t){e.fieldValue=t},expression:"fieldValue"}})],1)],1)]},proxy:!0},{key:"append",fn:function(){return[i("q-icon",{staticClass:"cursor-pointer",attrs:{name:"access_time"}},[i("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[i("q-time",{attrs:{mask:"YYYY-MM-DD HH:mm",format24h:""},model:{value:e.fieldValue,callback:function(t){e.fieldValue=t},expression:"fieldValue"}})],1)],1)]},proxy:!0}]),model:{value:e.fieldValue,callback:function(t){e.fieldValue=t},expression:"fieldValue"}}):e.isPickList?i("q-select",{attrs:{id:e.field.name,label:e.field.label,required:e.required,readonly:e.isReadonly,options:e.options},model:{value:e.fieldValue,callback:function(t){e.fieldValue=t},expression:"fieldValue"}}):e.isMultiPickList?i("q-select",{attrs:{multiple:"",id:e.field.name,label:e.field.label,required:e.required,readonly:e.isReadonly,options:e.options},model:{value:e.fieldValue,callback:function(t){e.fieldValue=t},expression:"fieldValue"}}):e.isAddress?i("div",[i("q-input",{attrs:{type:"text",label:this.$t("Street"),id:e.field.name+"Street",readonly:e.isReadonly},model:{value:e.fieldValue.street,callback:function(t){e.$set(e.fieldValue,"street",t)},expression:"fieldValue.street"}}),i("q-input",{attrs:{type:"text",label:this.$t("Postal Code"),id:e.field.name+"PostalCode",readonly:e.isReadonly},model:{value:e.fieldValue.postalCode,callback:function(t){e.$set(e.fieldValue,"postalCode",t)},expression:"fieldValue.postalCode"}}),i("q-input",{attrs:{type:"text",label:this.$t("City"),id:e.field.name+"City",readonly:e.isReadonly},model:{value:e.fieldValue.city,callback:function(t){e.$set(e.fieldValue,"city",t)},expression:"fieldValue.city"}})],1):i("q-input",{attrs:{id:e.field.name,label:e.field.label,required:e.required,type:e.inputType,readonly:e.isReadonly},model:{value:e.fieldValue,callback:function(t){e.fieldValue=t},expression:"fieldValue"}})},d=[],u={TEXTAREA:"textarea",STRING:"text",BOOLEAN:"checkbox",COMBOBOX:"text",CURRENCY:"text",DATE:"date",DATETIME:"text",DOUBLE:"number",ADRESS:"text",EMAIL:"email",INTEGER:"number",PERCENT:"number",MULTIPICKLIST:"text",PICKLIST:"text",PHONE:"tel",REFERENCE:"search",URL:"url",TIME:"time"},c={name:"RecordField",props:["metadata","record","fieldName","behavior","mode"],data:function(){return{field:null,fieldType:null,inputType:null,fieldValue:null,initialized:!1}},created:function(){var e=this;if(this.metadata){this.field=this.metadata.fields.find((function(t){return t.name===e.fieldName})),this.fieldType=this.field.type.toUpperCase(),this.inputType=u[this.fieldType];var t=this.record[this.fieldName];"PICKLIST"===this.fieldType?this.fieldValue=this.options.find((function(e){return e.value===t})):"MULTIPICKLIST"===this.fieldType?this.fieldValue=this.options.filter((function(e){return e.value===t})):this.fieldValue=t}},computed:{required:function(){return"Required"===this.field.behavior},isReadonly:function(){return"view"===this.mode||"Readonly"===this.field.behavior},isDate:function(){return"DATE"===this.fieldType},isPickList:function(){return"PICKLIST"===this.fieldType},isMultiPickList:function(){return"MULTIPICKLIST"===this.fieldType},isCheckbox:function(){return"BOOLEAN"===this.fieldType},isTime:function(){return"TIME"===this.fieldType},isDateTime:function(){return"DATETIME"===this.fieldType},isAddress:function(){return"ADDRESS"===this.fieldType},options:function(){return this.field.picklistValues}},watch:{fieldValue:function(e,t){this.initialized?this.$emit("valueChanged",{fieldName:this.field.name,fieldType:this.fieldType,value:this.fieldValue}):this.initialized=!0}}},f=c,p=i("2877"),h=Object(p["a"])(f,s,d,!1,null,null,null),m=h.exports,v={name:"RecordDetails",props:["serviceName","sobjectId","sobjectName","layoutName"],data:function(){return{updatedFields:new Set([]),metadata:null,layout:null,object:null,mode:"view"}},components:{"record-field":m},computed:{ready:function(){return null!=this.layout&&null!=this.metadata&&null!=this.record},availableSections:function(){return this.layout?this.layout.Metadata.layoutSections.filter((function(e){var t="Custom Links"!==e.label;return t=t&&"Contact Information"!==e.label,t})):null}},created:function(){var e=this,t=this.$FeathersVuex.api.SObject,i=this.$FeathersVuex.api.Layout,a=this.$FeathersVuex.api.LayoutInfo,n=this.sobjectName,l=this.layoutName,o=this.serviceName+"/get";this.$store.dispatch(o,this.sobjectId).then((function(t){e.record=t})),t.get(this.sobjectName).then((function(t){e.metadata=t,i.find({query:{$sobject:n,$layout:l},paginate:!1}).then((function(t){t&&1===t.length&&a.get(t[0].Id).then((function(t){if(t&&t.Metadata){var i=0,a=0;t.Metadata.layoutSections.forEach((function(e){e.secRank=i++,e.layoutColumns.forEach((function(e){e.colRank=a++}))})),e.layout=t}}))}))}))},methods:{isContactName:function(e,t){return"Contact"===e.name&&"Name"===t},saveRecord:function(){var e=this;this.$q.loading.show();var t=this.serviceName+"/update",i=Object.keys(this.record).filter((function(t){return e.updatedFields.has(t)})).reduce((function(t,i){return t[i]=e.record[i],t}),{});this.$store.dispatch(t,[this.record.Id,i]).then((function(t){e.$q.loading.hide(),e.$q.notify({color:"positive",textColor:"white",icon:"check_circle_outline",message:e.$i18n.t("notification.recordSaved")}),e.updatedFields=new Set([]),e.mode="view"})).catch((function(t){e.$q.loading.hide(),r["a"].config.errorHandler(t)}))},toggleEditMode:function(){this.updatedFields=new Set([]),this.mode="view"===this.mode?"edit":"view"},handleValueChanged:function(e){var t=e.value;"PICKLIST"===e.fieldType&&t&&(t=t.value),"MULTIPICKLIST"===e.fieldType&&t&&(t=t.map((function(e){return e.value})).join(";")),this.record[e.fieldName]=t,this.updatedFields.add(e.fieldName)}}},y=v,b=Object(p["a"])(y,l,o,!1,null,null,null),_=b.exports,q={name:"Profile",components:{"record-details":_},computed:{loggedUser:function(){return this.$store.state.auth&&this.$store.state.auth.user?this.$store.state.auth.user:null},passwordLabel:function(){return this.$t("buttons.password")}}},C=q,V=Object(p["a"])(C,a,n,!1,null,null,null);t["default"]=V.exports},b39a:function(e,t,i){var a=i("d3f4");e.exports=function(e,t){if(!a(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},c26b:function(e,t,i){"use strict";var a=i("86cc").f,n=i("2aeb"),l=i("dcbc"),o=i("9b43"),r=i("f605"),s=i("4a59"),d=i("01f9"),u=i("d53b"),c=i("7a56"),f=i("9e1e"),p=i("67ab").fastKey,h=i("b39a"),m=f?"_s":"size",v=function(e,t){var i,a=p(t);if("F"!==a)return e._i[a];for(i=e._f;i;i=i.n)if(i.k==t)return i};e.exports={getConstructor:function(e,t,i,d){var u=e((function(e,a){r(e,u,t,"_i"),e._t=t,e._i=n(null),e._f=void 0,e._l=void 0,e[m]=0,void 0!=a&&s(a,i,e[d],e)}));return l(u.prototype,{clear:function(){for(var e=h(this,t),i=e._i,a=e._f;a;a=a.n)a.r=!0,a.p&&(a.p=a.p.n=void 0),delete i[a.i];e._f=e._l=void 0,e[m]=0},delete:function(e){var i=h(this,t),a=v(i,e);if(a){var n=a.n,l=a.p;delete i._i[a.i],a.r=!0,l&&(l.n=n),n&&(n.p=l),i._f==a&&(i._f=n),i._l==a&&(i._l=l),i[m]--}return!!a},forEach:function(e){h(this,t);var i,a=o(e,arguments.length>1?arguments[1]:void 0,3);while(i=i?i.n:this._f){a(i.v,i.k,this);while(i&&i.r)i=i.p}},has:function(e){return!!v(h(this,t),e)}}),f&&a(u.prototype,"size",{get:function(){return h(this,t)[m]}}),u},def:function(e,t,i){var a,n,l=v(e,t);return l?l.v=i:(e._l=l={i:n=p(t,!0),k:t,v:i,p:a=e._l,n:void 0,r:!1},e._f||(e._f=l),a&&(a.n=l),e[m]++,"F"!==n&&(e._i[n]=l)),e},getEntry:v,setStrong:function(e,t,i){d(e,t,(function(e,i){this._t=h(e,t),this._k=i,this._l=void 0}),(function(){var e=this,t=e._k,i=e._l;while(i&&i.r)i=i.p;return e._t&&(e._l=i=i?i.n:e._t._f)?u(0,"keys"==t?i.k:"values"==t?i.v:[i.k,i.v]):(e._t=void 0,u(1))}),i?"entries":"values",!i,!0),c(t)}}},e0b8:function(e,t,i){"use strict";var a=i("7726"),n=i("5ca1"),l=i("2aba"),o=i("dcbc"),r=i("67ab"),s=i("4a59"),d=i("f605"),u=i("d3f4"),c=i("79e5"),f=i("5cc5"),p=i("7f20"),h=i("5dbc");e.exports=function(e,t,i,m,v,y){var b=a[e],_=b,q=v?"set":"add",C=_&&_.prototype,V={},k=function(e){var t=C[e];l(C,e,"delete"==e?function(e){return!(y&&!u(e))&&t.call(this,0===e?0:e)}:"has"==e?function(e){return!(y&&!u(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return y&&!u(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,i){return t.call(this,0===e?0:e,i),this})};if("function"==typeof _&&(y||C.forEach&&!c((function(){(new _).entries().next()})))){var x=new _,T=x[q](y?{}:-0,1)!=x,g=c((function(){x.has(1)})),E=f((function(e){new _(e)})),w=!y&&c((function(){var e=new _,t=5;while(t--)e[q](t,t);return!e.has(-0)}));E||(_=t((function(t,i){d(t,_,e);var a=h(new b,t,_);return void 0!=i&&s(i,v,a[q],a),a})),_.prototype=C,C.constructor=_),(g||w)&&(k("delete"),k("has"),v&&k("get")),(w||T)&&k(q),y&&C.clear&&delete C.clear}else _=m.getConstructor(t,e,v,q),o(_.prototype,i),r.NEED=!0;return p(_,e),V[e]=_,n(n.G+n.W+n.F*(_!=b),V),y||m.setStrong(_,e,v),_}}}]);